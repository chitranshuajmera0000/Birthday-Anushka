@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom animations and helpers moved from App.jsx */
@keyframes float {
	0%, 100% { transform: translateY(0px); }
	50% { transform: translateY(-20px); }
}

@keyframes fadeIn {
	from { opacity: 0; }
	to { opacity: 1; }
}

@keyframes slideUp {
	from {
		opacity: 0;
		transform: translateY(30px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes fall {
	0% {
		transform: translateY(0) rotate(0deg);
		opacity: 1;
	}
	100% {
		transform: translateY(100vh) rotate(360deg);
		opacity: 0;
	}
}

@keyframes flicker {
	0%, 100% { 
		opacity: 1; 
		transform: scale(1) translateY(0); 
	}
	25% { 
		opacity: 0.9; 
		transform: scale(1.05) translateY(-2px); 
	}
	50% { 
		opacity: 0.8; 
		transform: scale(1.1) translateY(-4px); 
	}
	75% { 
		opacity: 0.85; 
		transform: scale(1.08) translateY(-2px); 
	}
}

@keyframes twinkle {
	0%, 100% { opacity: 0; }
	50% { opacity: 1; }
}

@keyframes gradient {
	0%, 100% { opacity: 1; }
	50% { opacity: 0.8; }
}

.animate-float { animation: float 4s ease-in-out infinite; }
.animate-fadeIn { animation: fadeIn 1s ease-out; }
.animate-slideUp { animation: slideUp 0.6s ease-out; }
.animate-fall { animation: fall 3s linear forwards; }
.animate-flicker { animation: flicker 0.3s ease-in-out infinite; }
.animate-twinkle { animation: twinkle 2s ease-in-out infinite; }
.animate-gradient { animation: gradient 5s ease-in-out infinite; }

/* Radial gradient utility for flames */
.bg-gradient-radial {
	background: radial-gradient(circle, var(--tw-gradient-stops));
}

/* Provide a sensible base so utilities render consistently */
:root { --bg: #fff; }
html, body, #root { height: 100%; }

/* Smooth scrolling */
* {
	scroll-behavior: smooth;
}

/* Custom scrollbar for better aesthetics */
::-webkit-scrollbar {
	width: 10px;
}

::-webkit-scrollbar-track {
	background: rgba(0, 0, 0, 0.1);
}

::-webkit-scrollbar-thumb {
	background: linear-gradient(to bottom, #ec4899, #8b5cf6);
	border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
	background: linear-gradient(to bottom, #db2777, #7c3aed);
}

/* Per-image focus helper: set CSS variables on the <img> to control object-position
	 and a small vertical nudge. Edit these per-image inline in App.jsx.
	 Example: style={{ '--obj-pos': 'center 40%', '--obj-nudge': '-6%' }} */
.photo-var {
  /* separate horizontal and vertical object-position variables so you can
	  tweak left/right independently per image: --obj-x and --obj-y */
  object-position: var(--obj-x, center) var(--obj-y, 35%);
  /* Avoid using transform translate to nudge images — transforms can reveal
	  background edges when the image is moved. Use object-position only so
	  the image always fully covers the box (no white bars). */
  transition: object-position 220ms ease;
}

/* For small screens, use safer defaults unless overridden per-image */
@media (max-width: 420px) {
	.photo-var { object-position: var(--obj-x, center) var(--obj-y, 28%); }
}

/* Desktop default — slightly lower focal point to avoid chopping forehead */
@media (min-width: 1024px) {
	.photo-var { object-position: var(--obj-x, center) var(--obj-y, 40%); }
}

/* (sway feature removed) */

/* Candle position helpers for Cake page: move the numeric overlays slightly higher on small screens */
.candle-pos-1 { left: 38%; top: -2%; }
.candle-pos-7 { left: 62%; top: -2%; }

@media (max-width: 640px) {
	.candle-pos-1 { top: -14%; }
	.candle-pos-7 { top: -14%; }
}